---
title: 'Add methods to Prisma Client'
metaTitle: 'Prisma Client extensions: client component (Preview)'
metaDescription: 'Extend the functionality of Prisma Client, client component'
tocDepth: 3
---

<TopBlock>

You can use the `client` [Prisma Client extensions](/concepts/components/prisma-client/client-extensions) component to add top-level methods to Prisma Client. We introduced this feature in version 4.7.0.

</TopBlock>

## Enable the preview feature

Before you create Prisma Client extensions, you must enable the `clientExtensions` feature flag in the `generator` block of your `schema.prisma` file, as follows:

```prisma
generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["clientExtensions"]
}
```

## Extend Prisma Client

Use the `$extends` [client-level method](/reference/api-reference/prisma-client-reference#client-methods) to create an _extended client_. An extended client is a variant of the standard Prisma Client that is wrapped by one or more extensions. Use the `client` extension component to add top-level methods to Prisma Client.

To add a top-level method to Prisma Client, use the following structure:

```ts
const xprisma = prisma.$extends({
  client?: { ... }
})
```

### Example

The following example uses the `client` component to return the number of queries executed by the current client instance. It uses the [metrics](/concepts/components/prisma-client/metrics) feature to collect this information.

<Admonition type="info">

To use metrics, you must enable the metrics feature flag in the `generator` block of your `schema.prisma` file. [Learn more](/concepts/components/prisma-client/metrics#step-2-enable-the-feature-flag-in-the-prisma-schema-file)

</Admonition>

There are two client methods:
$log: This is a contrived example that probably has no real-world use but demonstrates the “mechanism” of defining a client-level extension
$totalQueries: Returns the number of queries executed by the PrismaClient instance

```ts
const prisma = new PrismaClient().$extends({
  client: {
    $log: (s: string) => console.log(s),
    async $totalQueries() {
      const index_prisma_client_queries_total = 0
      const metrics = await (
        await Prisma.getExtensionContext(this).$metrics.json()
      ).counters //getExtensionContext(this) returns the current client instance
      return metrics[index_prisma_client_queries_total].value
    },
  },
})
```

---

The following code then starts an interactive transaction without the traditional callback:

```ts

const tx = await xprisma.$begin()

await tx.user.create(...)
await tx.user.update(...)

await tx.$commit()

```
