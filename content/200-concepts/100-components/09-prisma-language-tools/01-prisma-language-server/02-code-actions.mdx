---
title: 'Code Actions'
metaTitle: 'Code Actions'
metaDescription: 'Code Actions ...'
tocDepth: 2
---

<TopBlock>

The Prisma Language Server provides the following options to restructure code and fix issues:

- [Quick Fixes](#quick-fixes) represent code changes that fix issues that the Prisma Language Server identifies in your code.
- [Refactorings](#refactorings) represent ways to restructure your code.

</TopBlock>

## Quick Fixes

This section lists the Quick Fixes provided by the Prisma Language Server.

Quick fixes have the following key bindings in different code editors:

| Editor  | Key binding     |
| ------- | --------------- |
| VS Code | `Cmd / Win + .` |

### Add Index for Relation Fields

![applying a quick-fix for relationMode to add index](code_action-relation_mode-index.gif)

### Add a missing <inlineCode>@unique</inlineCode> attribute to a relation

These Quick Fixes add missing `@unique` attributes to either the referencing or the referenced side of a relation. The following examples add missing `@unique` attributes to a `Profile` model that references a `Post` model.

#### Add a missing <inlineCode>@unique</inlineCode> attribute to a referencing field

This example adds a missing `@unique` attribute to the `userId` relation scalar field in the referencing `Profile` model:

<TabbedContent tabs={[<FileWithIcon text="Before" icon="file"/>, <FileWithIcon text="After" icon="file"/>]}>
<tab>

```prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Profile {
  id     Int    @id
  userId String
  user   User   @relation(fields: [userId], references: [email])
  // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  // Quick Fix: Make referencing field(s) unique
}

model User {
  id      Int      @id
  email   String   @unique
  profile Profile?
}
```

</tab>
<tab>

```prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Profile {
  id     Int    @id
  userId String @unique // @unique attribute added
  user   User   @relation(fields: [userId], references: [email])
}

model User {
  id      Int      @id
  email   String   @unique
  profile Profile?
}
```

</tab>
</TabbedContent>

#### Add a missing <inlineCode>@unique</inlineCode> attribute to a referenced field

This example adds a `@unique` attribute to the `email` field in the referenced `Post` model:

<TabbedContent tabs={[<FileWithIcon text="Before" icon="file"/>, <FileWithIcon text="After" icon="file"/>]}>
<tab>

```prisma
model Profile {
  id     Int    @id
  userId String @unique
  user   User   @relation(fields: [userId], references: [email])
  // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  // Quick Fix: Make referenced field(s) unique
}

model User {
  id      Int      @id
  email   String
  profile Profile?
}
```

</tab>
<tab>

```prisma
model Profile {
  id     Int    @id
  userId String @unique
  user   User   @relation(fields: [userId], references: [email])
}

model User {
  id      Int      @id
  email   String   @unique // @unique attribute added
  profile Profile?
}
```

</tab>
</TabbedContent>

### Fix the spelling of a field

This Quick Fix updates incorrectly spelled relation types. In the following example, the `User` model has a `posts` field with an incorrectly named `Poste[]` relation type. The Quick Fix corrects the name to `Post[]`:

<TabbedContent tabs={[<FileWithIcon text="Before" icon="file"/>, <FileWithIcon text="After" icon="file"/>]}>
<tab>

```prisma
model User {
  id    Int     @id
  posts Poste[]
  //    ^^^^^
  // Quick Fix: Change spelling to 'Post'
}

model Post {
  id     Int   @id
  User   User? @relation(fields: [userId], references: [id])
  userId Int?
}
```

</tab>
<tab>

```prisma
model User {
  id    Int    @id
  posts Post[] // Spelling corrected
}

model Post {
  id     Int   @id
  User   User? @relation(fields: [userId], references: [id])
  userId Int?
}
```

</tab>
</TabbedContent>

### Create a new model or enum

This Quick Fix suggests that you add a new model or enum if you add a relation field to your model with a relation type that you have not yet defined. In the following example, the `User` model has a `posts` relation field, but no `Post` model or enum currently exists:

<TabbedContent tabs={[
    <FileWithIcon text="Before" icon="file"/>,
    <FileWithIcon text="After (model)" icon="file"/>,
    <FileWithIcon text="After (enum)" icon="file"/>,
    ]}>
<tab>

```prisma
model User {
  id    Int    @id
  posts Post[]
  //    ^^^^
  // Quick Fix: Create new model/enum 'Post'
}
```

</tab>
<tab>

```prisma
model User {
  id    Int    @id
  posts Post[]
}

// New model added
model Post {

}
```

</tab>
<tab>

```prisma
model User {
  id Int @id
  posts Post|[]
}

// New enum added
enum Post {

}
```

</tab>
</TabbedContent>

### Rename the <inlinecode>experimentalFeatures</inlinecode> field

This Quick Fix renames the legacy `experimentalFeatures` field in the `generator` block to `previewFeatures`:

<TabbedContent tabs={[<FileWithIcon text="Before" icon="file"/>, <FileWithIcon text="After" icon="file"/>]}>
<tab>

```prisma
generator client {
  provider             = "prisma-client-js"
  experimentalFeatures = ["fullTextSearch"]
  // ^^^^^^^^^^^^^^^^^
  // Quick Fix: Rename property to 'previewFeatures'
}
```

</tab>
<tab>

```prisma
generator client {
  provider = "prisma-client-js"
  previewFeatures = ["fullTextSearch"] // Correct name
}
```

</tab>
</TabbedContent>

## Refactorings

This section lists the refactorings provided by the Prisma Language Server.

### Rename

| Editor  | Key binding |
| ------- | ----------- |
| VS Code | `F2`        |

Renames the word currently below the cursor and any references within the same file. This currently only handles surface-level renames with a `@map()` to the original name. Therefore the client will use the new name but the underlying db will still use the old.

![Gif of renaming a model in VS Code](code_action-rename.gif)
